=== Docker-shmoker ===


== Installation on ubuntu, quick summary ==
* Remove old installs:

	$ sudo apt-get remove docker docker-engine docker.io containerd runc

* Install:
	$ sudo apt-get update
	$ sudo apt-get install ca-certificates curl gnupg lsb-release
	
	$ sudo mkdir -p /etc/apt/keyrings
	$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
	
	echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
	$ sudo apt-get update
	$ sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin
	$ sudo docker run hello-world


* Attach local folder $(pwd)/datadir as /var/lib/mysql (via bind mount)

		docker run --name mysql-db -v $(pwd)/datadir:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:8.0.28-debian
		
		E.g. syntax is -v local:contained 
					
* Remove the volume
	
	docker volume remove mysql-data

* Download specific image 
	
	docker pull kalilinux/kali-rolling
					
	(please read notes about kali-rolling: https://hub.docker.com/r/kalilinux/kali-rolling)


* Kali linux pull and run 
	$ docker pull docker.io/kalilinux/kali-rolling
	$ docker run --tty --interactive kalilinux/kali-rolling
	# your kali shell
	# exit
	$

* List all containers and attach to a particular one
	$ docker container list --all
	$ docker attach d36922fa21e8


* Run a specific command in a specific container

	docker run -it cf0f3ca922e0 bin/bash


* List launched containers
	
	docker ps -a

* Commit changes to a container (as a new container ubuntu-nmap)

	sudo docker commit deddd39fa163 ubuntu-nmap

* List images
	
	docker images
